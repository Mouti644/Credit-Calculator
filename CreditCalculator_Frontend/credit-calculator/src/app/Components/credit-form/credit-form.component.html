<div class="container">
  <!-- Header -->
  <div class="header">
    <h1 class="logo">Softt 365</h1>
    <p class="subtitle">Calculatrice de Crédit Immobilier</p>
  </div>

  <div class="content-wrapper">
    <!-- Section Formulaire -->
    <div class="form-section">
      <h2>Paramètres de Crédit</h2>
      
      <div class="form-group">
        <label for="montant">Montant d'achat</label>
        <div class="input-wrapper">
          <span class="currency">€</span>
          <input id="montant" type="number" [(ngModel)]="MontantAchat" placeholder="0.00">
        </div>
      </div>

      <div class="form-group">
        <label for="fonds">Fonds propres</label>
        <div class="input-wrapper">
          <span class="currency">€</span>
          <input id="fonds" type="number" [(ngModel)]="FondsPropes" placeholder="0.00">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="duree">Durée (mois)</label>
          <div class="input-wrapper">
            <input id="duree" type="number" [(ngModel)]="DureeMois" placeholder="240">
            <span class="suffix">mois</span>
          </div>
        </div>

        <div class="form-group">
          <label for="taux">Taux annuel</label>
          <div class="input-wrapper">
            <input id="taux" type="number" [(ngModel)]="TauxAnnuel" placeholder="0.00">
            <span class="suffix">%</span>
          </div>
        </div>
      </div>

      <button class="btn-calculate" (click)="onCalculate()">Calculer</button>

      <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
    </div>

    <!-- Section Résultats -->
    <div class="results-section" *ngIf="creditResult">
      <h2>Résultats de Simulation</h2>
      
      <div class="results-grid">
        <div class="result-card">
          <span class="result-label">Frais d'achat</span>
          <span class="result-value">{{ creditResult.FraisAchat | number:'1.2-2' }}€</span>
        </div>

        <div class="result-card">
          <span class="result-label">À emprunter (BRUT)</span>
          <span class="result-value highlight">{{ creditResult.MontantEmprunteBrut | number:'1.2-2' }}€</span>
        </div>

        <div class="result-card">
          <span class="result-label">Frais d'hypothèque</span>
          <span class="result-value">{{ creditResult.FraisHypotheque | number:'1.2-2' }}€</span>
        </div>

        <div class="result-card">
          <span class="result-label">À emprunter (NET)</span>
          <span class="result-value highlight">{{ creditResult.MontantEmprunteNet | number:'1.2-2' }}€</span>
        </div>

        <div class="result-card">
          <span class="result-label">Taux mensuel</span>
          <span class="result-value">{{ creditResult.TauxMensuel | number:'1.3-3' }}%</span>
        </div>

        <div class="result-card primary">
          <span class="result-label">Mensualité</span>
          <span class="result-value-large">{{ creditResult.Mensualite | number:'1.2-2' }}€</span>
        </div>
      </div>

      <!-- Tableau d'amortissement -->
      <div class="table-section">
        <h3>Tableau d'Amortissement</h3>
        <div class="table-wrapper">
          <table class="amortization-table">
            <thead>
              <tr>
                <th>Mois</th>
                <th>Solde début</th>
                <th>Mensualité</th>
                <th>Intérêt</th>
                <th>Capital</th>
                <th>Solde fin</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let ligne of creditResult.TableauAmortissement; let i = index" [ngClass]="{'highlight-row': i % 12 === 0}">
                <td class="cell-month">{{ ligne.Mois }}</td>
                <td class="cell-number">{{ ligne.SoldeDebut | number:'1.2-2' }}</td>
                <td class="cell-number">{{ ligne.Mensualite | number:'1.2-2' }}</td>
                <td class="cell-number">{{ ligne.Interet | number:'1.2-2' }}</td>
                <td class="cell-number">{{ ligne.CapitalRembourse | number:'1.2-2' }}</td>
                <td class="cell-number">{{ ligne.SoldeFin | number:'1.2-2' }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>